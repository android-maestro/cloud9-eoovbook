<app-navbar></app-navbar>
<section >
    <div class="gap2 gray-bg">
        <div class="container">
            <div  class="row merged20">
                <div class="col-md-9">
                    <div *ngIf="!(allCommunityLength === 0)">
                    <div class="paddtopbot0">
                        <div class="title-block">
                            <div class="row">
                                <div class="col-lg-4">
                                    <div class="align-left">
                                        <h5 class="grptitle"> Your Community</h5>
                                    </div>
                                </div>
                                <div class="col-lg-8">
                                    <div class="row merged20">
                                        <div class="col-lg-2 col-md-2 col-sm-2">
                                            
                                        </div>
                                        
                                        <div class="col-lg-10 col-md-10 col-sm-10">
                                                                                            
                                                <a class="createyrcmtybtn" [routerLink]="['/create-community']"><i class="fa fa-edit"></i> Create Your Community</a>
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                        <div class="central-meta item" *ngFor="let item of allCommunity">
                            <div class="pit-post">
                                <figure class="circular_image">
                                    <img src="{{item.GroupImageName}}" alt="">										
                                </figure>
                                <div class="pit-post-deta" style="width:88%;">
                                    <h4><a href="javascript:void(0)" (click)="getCommunity(item.GroupId)" title="">{{item.GroupName}}</a></h4>
                                    <ul class="post-up-time">											
                                        <li><i class="fa fa-clock-o"></i> {{item.CreatedOn | date : 'medium'}}</li>
                                        <!-- <li><i class="fa fa-link">&nbsp;</i><a href="javascript:void();" (click)="getCommunity(item.GroupId)" title="">{{baseUrl}}/aboutcommunity/</a></li> -->
                                    </ul>
                                    <p class="comtypara">{{item.GroupDescription}}</p>
                                </div>
                                
                                <div class="more">
                                                <div class="more-post-optns"><i class="ti-more-alt"></i>
                                                    <ul>
                                                        <li (click)="editcommunity(item.GroupId)"><i class="fa fa-pencil-square-o"></i>Edit Community</li>
                                                        <li><a data-toggle="modal" data-target="#modalyesno"><i class="fa fa-trash-o"></i>Delete Community</a></li>
                                                        <!-- <li><i class="fa fa-address-card-o"></i>Boost This Post</li>
                                                        <li><i class="fa fa-clock-o"></i>Schedule Post</li>
                                                        <li><i class="fa fa-wpexplorer"></i>Select as featured</li>
                                                        <li><i class="fa fa-bell-slash-o"></i>Turn off Notifications</li> -->
                                                    </ul>
                                                    <!-- <ng-template #deletetemp>
                                                        <div class="modal-body text-center">
                                                          <div class="delttext">Are you sure you want to Delete this Post?</div>
                                                          <div class="col-lg-12">
                                                            <button type="button" class=" main-btn delyesbtn dltbtn" (click)="deleteCommunity(item.GroupId)" >Yes</button>
                                                            <button type="button" class="main-btn delcancelbtn dltbtn" (click)="decline()" >Cancel</button>
                                                          </div>
                                                         
                                                        </div>
                                                    </ng-template> -->
                                                    <div class="modal fade" id="modalyesno" tabindex="-1" role="dialog" aria-labelledby="modalyesnoTitle" aria-hidden="true">
                                                        <div class="modal-dialog modal-sm" role="document" style="width: 350px;">
                                                          <div class="modal-content">
                                                            <div class="modal-header">
                                                              <h5 class="modal-title" id="modalyesnoLongTitle">Are you Sure you want to delete this Community?</h5>
                                                              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                                <span aria-hidden="true">&times;</span>
                                                              </button>
                                                            </div>
                                                            <div class="modal-footer" style="display: flex; justify-content: space-between;">
                                                              <button type="button" class="btn btn-secondary" data-dismiss="modal"  (click)="decline()">Cancel</button>
                                                              <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="deleteCommunity(item.GroupId)">Delete</button>
                                                            </div>
                                                          </div>
                                                        </div>
                                                      </div>
                                                </div>
                                            </div>
                            </div>
                        </div>
  
                    </div>
                        <div class="text-center noRequest central-meta" *ngIf="allCommunityLength === 0">
                            <img class="img-responsive" src="assets/images/svg/communityicon.svg" style="height:250px">
                            <br/><br/>
                        <!-- <img src="../assets/images/resources/noNews.svg" class="img-responsive imgerror" style="height:180px; border-bottom: 4px solid #3F3D56;"> -->
                            <h4 class="text-center" style="line-height:35px;">You have not created any community yet! <br/>
                                 kindly create your own community. </h4>
                            <br/><br/>
                            <div class="text-center">
                                <button class="createyourcmtybtn" [routerLink]="('/create-community')"> <i class="fa fa-edit"></i> Create your Community</button>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-4">
                                <div class="align-left">
                                    <h5 class="grptitle" style="color: #515575;"> Suggested Community</h5>
                                </div>
                            </div>
                            
                        </div>

                        <div *ngFor="let item of suggestCommunity">
                            <div  *ngIf="!item.IsGroupAdmin && !(item.InvitationStatus == 'Accepted') && !item.IsDisabled" class="central-meta item">
                                <div class="pit-post">
                                    <figure class="circular_image">
                                        <img src="{{item.GroupImageName}}" alt="">										
                                    </figure>
                                    <div class="pit-post-deta">
                                        <h4><a href="javascript:void(0)" (click)="getSuggestedCommunity(item.GroupId)" title="">{{item.GroupName}}</a></h4>
                                        <ul class="post-up-time">											
                                            <li><i class="fa fa-clock-o"></i> {{item.CreatedOn | date : 'medium'}}</li>
                                            <!-- <li><i class="fa fa-link">&nbsp;</i> <a href="javascript:void();" (click)="getCommunity(item.GroupId)" title="">{{baseUrl}}/community-view-newuser/</a></li> -->
                                        </ul>
                                        <div><span *ngIf="item.IsPublic" class="smtitles">Public group</span>  <span *ngIf="!item.IsPublic" class="smtitles">Private group</span> . <span class="smtitles">{{item.MemberCount}} members</span></div>
                                        <p class="comtypara">{{item.GroupDescription}}</p>
                                        <br>

                                        <span>Admin:</span>

                                   <div class="circular_admin">
                                    <img src="{{item.AdminProfileImage}}">
                                </div>

                                   <a href="javascript:void(0);" [routerLink]="['/profileDetail/'+  item.GroupAdminEmail + '/' + item.UserId]"  style="font-size:11px; font-weight:600;">{{item.AdminName}}</a>

                                    </div>
                                    <div class="right-pst-meta">                                    
                                        <button class="joincmntybtn" *ngIf="!item.InvitationStatus || item.InvitationStatus == 'Rejected'" type="button" (click)="joinCommunity(item.GroupId, item.GroupAdminEmail, item.IsPublic)">Join Community</button>
                                        <button class="requestsntbtn" *ngIf="item.InvitationStatus == 'In Progress'" type="button" disabled >Request Sent</button>
                                    </div>
                                    
                                </div>
                            </div>   
                        </div>    

                </div>                
                <div class="col-md-3">
                    <aside class="sidebar">
                        <div class="title-block grpjoined" style="padding-bottom:10px">
                            <div class="align-left">
                                <h5 class="grptitle"> Community you have joined</h5>	
                            </div>
                        </div>	
                        <div class="wrapper">
                            <div class="content">
                                                    
                                <div *ngFor="let item of JoinCommunity">
                                    <div class="central-meta">
                                        <div class="widget"  >
                                            <div class="your-page">
                                                <figure>
                                                    <a href="javascript:void(0)" title=""><img class="crlfit" src="{{item.GroupImageName}}" alt=""></a>
                                                </figure>
                                                <div class="page-meta">
                                                    <a href="javascript:void(0)" (click)="getCommunity(item.GroupId)" title="" class="">{{item.GroupName}}</a>
                                                    <div><span *ngIf="item.IsPublic" class="smtitles">Public group</span>  <span *ngIf="!item.IsPublic" class="smtitles">Private group</span> . <span class="smtitles">{{item.MemberCount}} members</span></div>                                 
                                                </div>
                                                
                                                <div class="page-likes">
                                                    <span class="smdescript">{{item.GroupDescription}}</span><br/>
                                                    <span style="font-size:12px;">Admin:</span>
                                                    <div class="circular_admin">
                                                        <img src="{{item.AdminProfileImage}}">
                                                    </div>
                                                    <a href="javascript:void(0);" [routerLink]="['/profileDetail/'+  item.GroupAdminEmail + '/' + item.UserId]"  style="font-size:11px; font-weight:600;">{{item.AdminName}}</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                </div>

                                <div *ngIf="JoinCommunityCount == 0" class="nofriend">
                                    <div class="text-center noRequest">
                                        <img src="../assets/images/resources/noCommunitySearch.svg" class="img-responsive" style="height:230px; border-bottom: 4px solid #3F3D56; margin-top: 30px;">
                                        <h4 class="p-3">No Community found !!</h4>
                                    </div>
                                </div>

                                <!-- <div  *ngIf="suggestCommunity.InvitationStatus == null && suggestCommunity.InvitationStatus != 'Accepted'"  class="nofriend">
                                    <div class="text-center noRequest">
                                        <img src="../assets/images/resources/noPosts.svg" class="img-responsive" style="height:230px; border-bottom: 4px solid #3F3D56; margin-top: 30px;">
                                        <h4 class="p-3">No Posts!!</h4>
                                    </div>
                                </div> -->
                                
                            </div>
                        </div>
                        
                    </aside>
                </div>
            </div>
        </div>
    </div>
</section>