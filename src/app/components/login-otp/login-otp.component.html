<app-header></app-header>
   
    <section>
        <div class="page-header">
            
            
        </div>
    </section><!-- sub header -->
    <section>
        <div class="gap2 gray-bg">
            <div class="container-fluid">
                <div class="row">
                    <div class="offset-lg-4 col-lg-8">
                        <div class="row border-center">
                           
                            <div class="col-lg-6 col-md-6 order-lg-1 order-xl-2">
                                <div class="logout-f">
                                    
                                 <!--    <h4>Enter OTP</h4>
                                    <p>4 Digit OTP has been sent to your mobile number.</p> -->
                                   <!--  <div class="logout-form">
                                        <form method="post" class="again-login" [formGroup]="form"  novalidate>
                                            <div class="row merged10">
                                                <div class="col-lg-12">
                                                    <input id="partitioned" class="form-control" [ngClass]="{'input-error': form.controls['Password'].invalid && form.controls['Password'].touched}" formControlName="Password" type="text" maxlength="4" pattern="^\d{4}$" required/>
                                                    <div *ngIf="form.controls['Password'].touched">
                                                        <p *ngIf="form.controls['Password'].errors?.['required']"
                                                            class="alert alert-danger">
                                                            <i class="fa fa-exclamation-circle"></i>&nbsp; OTP is
                                                            required.
                                                        </p>
                                                        <p *ngIf="form.controls['Password'].errors?.['pattern']"
                                                            class="alert alert-danger"><i
                                                                class="fa fa-exclamation-circle"></i>&nbsp; OTP
                                                             is invalid
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="mt-2"></div>
                                               
                                               <div class="col-lg-12">
                                                    <div class="refreshpgbtn">
                                                        <a class="" href="javascript:void();">Resend OTP </a>
                                                    </div>
                                                    
                                                </div>
                                                <div class="mt-2">&nbsp;</div>



                                                <div class="col-lg-12 text-center">
                                                   <button *ngIf="!clicked" [disabled]="!form.valid" type="submit" class="lgajbtn btn-block" (click)="submit()">Login</button>
                                                        <button *ngIf="clicked"  class="lgajbtn btn-block"><div class="spinner-border  spinner-border-sm" role="status">
                                                              <span class="sr-only">Loading...</span>
                                                            </div></button>
                                                </div>                                                                                            
                                            </div>
                                        </form>
                                    </div> -->

                                    <div class="container height-100 d-flex justify-content-center align-items-center">
                                    <div class="position-relative">
                                        <div class="card p-2 text-center">
                                             <form method="post" class="again-login" [formGroup]="form"  novalidate>


                                                  <div class="col-lg-12" *ngIf="!requestOtp">
                                                     <h6 class="titleloginOtp">Please enter Email-ID</h6>
                                                        <input type="text" class="form-control" [ngClass]="{'input-error': form.controls['LoginId'].invalid && form.controls['LoginId'].touched}" placeholder="Email Address" pattern="^[A-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" value="" formControlName="LoginId" required>
                                                        <div *ngIf="form.controls['LoginId'].touched">
                                                            <p *ngIf="form.controls['LoginId'].errors?.['pattern']"
                                                                class="alert alert-danger"><i
                                                                    class="fa fa-exclamation-circle"></i>&nbsp; Email
                                                                address is invalid
                                                            </p>
                                                        </div>
                                                        <br /><br />
                                                         <div class="or"></div>
                                                        <h6 class="titleloginOtp">Please enter Mobile No.</h6>
                                                        <input type="text" class="form-control" [ngClass]="{'input-error': form.controls['LoginIdMobile'].invalid && form.controls['LoginIdMobile'].touched}" placeholder="Phone Number" value="" formControlName="LoginIdMobile"  maxlength="10" pattern="^((\\+91-?)|0)?[0-9]{10}$" required>
                                                        <p *ngIf="form.controls['LoginIdMobile'].errors?.['pattern']"
                                                                class="alert alert-danger"><i
                                                                    class="fa fa-exclamation-circle"></i>&nbsp; Please
                                                                enter 10 digit no.
                                                            </p>

                                                    <div>
                                                      <p *ngIf="mobileError!='null'" class="alert alert-danger">
                                                        <i class="fa fa-exclamation-circle"></i>&nbsp; {{mobileError}}</p>
                                                    </div>
                                                    <div>
                                                        <p *ngIf="emailError!='null'" class="alert alert-danger">
                                                          <i class="fa fa-exclamation-circle"></i>&nbsp; {{emailError}}</p>
                                                      </div>
                                                    </div>

                                                     <button *ngIf="!clicked && !requestOtp" [disabled]="form.controls['LoginId'].errors?.['required']" type="button" (click)="sendOtp()" class="btn btn-danger px-4 validate">Send OTP</button>
                                                    <button *ngIf="clicked && !requestOtp"  class="btn btn-danger px-4 validate"><div class="spinner-border  spinner-border-sm" role="status">
                                                          <span class="sr-only">Loading...</span>
                                                        </div></button>

                                                    <div *ngIf="requestOtp">
                                            <h6>Please enter the one time password <br> to verify your account</h6>
                                            <div> <span>A code has been sent to </span> <small> {{LoginId}}</small> </div>
                                            <div id="otp" class="inputs d-flex flex-row justify-content-center mt-2">

                                                <ng-otp-input  (onInputChange)="onOtpChange($event)"   [config]="{length:4,allowNumbersOnly:true}" required></ng-otp-input> 

                                                    
                                            </div>
                                            <div class="mt-4"> 
                                                  <div>
                                                        <p *ngIf="otpError"
                                                            class="alert alert-danger">
                                                            <i class="fa fa-exclamation-circle"></i>&nbsp; OTP is
                                                            invalid,Please try again.
                                                        </p>
                                                        
                                                    </div>
                                                 <button *ngIf="!clicked" [disabled]="!clicked" type="submit" class="btn btn-danger px-4 validate">Login</button>
                                                    <button *ngIf="clicked"  class="btn btn-danger px-4 validate"><div class="spinner-border  spinner-border-sm" role="status">
                                                          <span class="sr-only">Loading...</span>
                                                        </div></button>
                                            </div>
                                        </div>
                                        </form>
                                        </div>
                                        <div class="card-2" *ngIf="requestOtp">
                                            <div class="content d-flex justify-content-center align-items-center"> <span>Didn't get the code</span> <a href="#" class="text-decoration-none ms-3">Resend(1/3)</a> </div>
                                        </div>
                                    </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>